{"ast":null,"code":"import axios from 'axios';\n\n// Backend API base URL\nconst API_BASE_URL = 'http://localhost:5195/api';\n\n// Create axios instance with default config\nconst apiClient = axios.create({\n  baseURL: API_BASE_URL,\n  headers: {\n    'Content-Type': 'application/json'\n  },\n  withCredentials: true // For CORS with credentials\n});\n\n// API service object\nconst api = {\n  /**\n   * Employee applies for leave\n   * @param {Object} leave - Leave application data\n   * @param {string} leave.leaveType - Type of leave (VACATION, SICK, CASUAL)\n   * @param {string} leave.startDate - Start date (YYYY-MM-DD)\n   * @param {string} leave.endDate - End date (YYYY-MM-DD)\n   * @param {number} leave.days - Number of days\n   */\n  applyLeave: async leave => {\n    try {\n      const response = await apiClient.post('/leave/apply', {\n        leaveType: leave.leaveType,\n        startDate: leave.startDate,\n        endDate: leave.endDate,\n        days: leave.days\n      });\n      return response.data;\n    } catch (error) {\n      console.error('Error applying leave:', error);\n      throw error;\n    }\n  },\n  /**\n   * Get employee's leave requests\n   */\n  getMyLeaves: async () => {\n    try {\n      const response = await apiClient.get('/leave/my-leaves');\n      return response.data;\n    } catch (error) {\n      console.error('Error fetching my leaves:', error);\n      throw error;\n    }\n  },\n  /**\n   * Manager views pending leave requests\n   */\n  getPendingLeaves: async () => {\n    try {\n      const response = await apiClient.get('/leave/pending');\n      return response.data;\n    } catch (error) {\n      console.error('Error fetching pending leaves:', error);\n      throw error;\n    }\n  },\n  /**\n   * Manager views all leave requests (complete history)\n   */\n  getAllLeaves: async () => {\n    try {\n      const response = await apiClient.get('/leave/all');\n      return response.data;\n    } catch (error) {\n      console.error('Error fetching all leaves:', error);\n      throw error;\n    }\n  },\n  /**\n   * Manager approves/rejects leave\n   * @param {number} id - Leave request ID\n   * @param {string} status - 'APPROVED' or 'REJECTED'\n   * @param {string} comments - Optional manager comments\n   */\n  updateLeaveStatus: async (id, status, comments = '') => {\n    try {\n      const endpoint = status === 'APPROVED' ? `/leave/${id}/approve` : `/leave/${id}/reject`;\n      const response = await apiClient.put(endpoint, {\n        managerComments: comments\n      });\n      return response.data;\n    } catch (error) {\n      console.error(`Error updating leave status:`, error);\n      throw error;\n    }\n  },\n  /**\n   * Get employee leave balance\n   */\n  getLeaveBalance: async () => {\n    try {\n      const response = await apiClient.get('/leave/balance');\n      return response.data;\n    } catch (error) {\n      console.error('Error fetching leave balance:', error);\n      throw error;\n    }\n  }\n};\n\n// Add response interceptor for global error handling\napiClient.interceptors.response.use(response => response, error => {\n  if (error.response) {\n    var _error$response$data;\n    // Server responded with error status\n    console.error('API Error Response:', error.response.data);\n    const message = ((_error$response$data = error.response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || 'An error occurred';\n    throw new Error(message);\n  } else if (error.request) {\n    // Request made but no response received\n    console.error('API No Response:', error.request);\n    throw new Error('Cannot connect to server. Please ensure the backend is running.');\n  } else {\n    // Error in request setup\n    console.error('API Request Error:', error.message);\n    throw error;\n  }\n});\nexport default api;","map":{"version":3,"names":["axios","API_BASE_URL","apiClient","create","baseURL","headers","withCredentials","api","applyLeave","leave","response","post","leaveType","startDate","endDate","days","data","error","console","getMyLeaves","get","getPendingLeaves","getAllLeaves","updateLeaveStatus","id","status","comments","endpoint","put","managerComments","getLeaveBalance","interceptors","use","_error$response$data","message","Error","request"],"sources":["C:/Users/003XT7744/Desktop/POC/frontend/src/services/api.js"],"sourcesContent":["import axios from 'axios';\n \n// Backend API base URL\nconst API_BASE_URL = 'http://localhost:5195/api';\n \n// Create axios instance with default config\nconst apiClient = axios.create({\n  baseURL: API_BASE_URL,\n  headers: {\n    'Content-Type': 'application/json',\n  },\n  withCredentials: true, // For CORS with credentials\n});\n \n// API service object\nconst api = {\n  /**\n   * Employee applies for leave\n   * @param {Object} leave - Leave application data\n   * @param {string} leave.leaveType - Type of leave (VACATION, SICK, CASUAL)\n   * @param {string} leave.startDate - Start date (YYYY-MM-DD)\n   * @param {string} leave.endDate - End date (YYYY-MM-DD)\n   * @param {number} leave.days - Number of days\n   */\n  applyLeave: async (leave) => {\n    try {\n      const response = await apiClient.post('/leave/apply', {\n        leaveType: leave.leaveType,\n        startDate: leave.startDate,\n        endDate: leave.endDate,\n        days: leave.days,\n      });\n      return response.data;\n    } catch (error) {\n      console.error('Error applying leave:', error);\n      throw error;\n    }\n  },\n \n  /**\n   * Get employee's leave requests\n   */\n  getMyLeaves: async () => {\n    try {\n      const response = await apiClient.get('/leave/my-leaves');\n      return response.data;\n    } catch (error) {\n      console.error('Error fetching my leaves:', error);\n      throw error;\n    }\n  },\n \n  /**\n   * Manager views pending leave requests\n   */\n  getPendingLeaves: async () => {\n    try {\n      const response = await apiClient.get('/leave/pending');\n      return response.data;\n    } catch (error) {\n      console.error('Error fetching pending leaves:', error);\n      throw error;\n    }\n  },\n \n  /**\n   * Manager views all leave requests (complete history)\n   */\n  getAllLeaves: async () => {\n    try {\n      const response = await apiClient.get('/leave/all');\n      return response.data;\n    } catch (error) {\n      console.error('Error fetching all leaves:', error);\n      throw error;\n    }\n  },\n \n  /**\n   * Manager approves/rejects leave\n   * @param {number} id - Leave request ID\n   * @param {string} status - 'APPROVED' or 'REJECTED'\n   * @param {string} comments - Optional manager comments\n   */\n  updateLeaveStatus: async (id, status, comments = '') => {\n    try {\n      const endpoint = status === 'APPROVED' \n        ? `/leave/${id}/approve` \n        : `/leave/${id}/reject`;\n      const response = await apiClient.put(endpoint, {\n        managerComments: comments,\n      });\n      return response.data;\n    } catch (error) {\n      console.error(`Error updating leave status:`, error);\n      throw error;\n    }\n  },\n \n  /**\n   * Get employee leave balance\n   */\n  getLeaveBalance: async () => {\n    try {\n      const response = await apiClient.get('/leave/balance');\n      return response.data;\n    } catch (error) {\n      console.error('Error fetching leave balance:', error);\n      throw error;\n    }\n  },\n};\n \n// Add response interceptor for global error handling\napiClient.interceptors.response.use(\n  (response) => response,\n  (error) => {\n    if (error.response) {\n      // Server responded with error status\n      console.error('API Error Response:', error.response.data);\n      const message = error.response.data?.message || 'An error occurred';\n      throw new Error(message);\n    } else if (error.request) {\n      // Request made but no response received\n      console.error('API No Response:', error.request);\n      throw new Error('Cannot connect to server. Please ensure the backend is running.');\n    } else {\n      // Error in request setup\n      console.error('API Request Error:', error.message);\n      throw error;\n    }\n  }\n);\n \nexport default api;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}